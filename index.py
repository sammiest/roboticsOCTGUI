# Form implementation generated from reading ui file 'index.ui'
#
# Created by: PyQt6 UI code generator 6.4.2
#
# WARNING: Any manual changes made to this file will be lost when pyuic6 is
# run again.  Do not edit this file unless you know what you are doing.


from PyQt6 import QtCore, QtGui, QtWidgets
#import igmr_robotics_toolkit.robot.loader 
#from igmr_robotics_toolkit.robot.loader import load_robot
#from igmr_robotics_toolkit.control.simulator import Simulator
from igmr_robotics_toolkit.collision.collider import Collider
import RAOCTg2
from RAOCTg2.robot_controller.control import Coordinator

from cyclonedds.domain import DomainParticipant
from cyclonedds.qos import Qos, Policy
from cyclonedds.sub import Subscriber, DataReader
from cyclonedds.pub import Publisher, DataWriter
from cyclonedds.topic import Topic
from cyclonedds.util import duration

from igmr_robotics_toolkit.comms.frame import FrameResolver
from igmr_robotics_toolkit.comms.params import ParameterClient, StateClient
from igmr_robotics_toolkit.comms.history import SubscribedStateBuffer
from igmr_robotics_toolkit.control.controller import ControlError
from igmr_robotics_toolkit.control.action import ActionProgram
from igmr_robotics_toolkit.control.action.position_trajectory import BufferedJointTrajectoryAction
from igmr_robotics_toolkit.control.action.dynamic_trajectory import DynamicTrajectoryAction
from igmr_robotics_toolkit.control.action.jogging import JoystickJoggingAction
from igmr_robotics_toolkit.io.gamepad import Gamepad
from igmr_robotics_toolkit.math import hinv
from igmr_robotics_toolkit.node.speech import Speaker
from igmr_robotics_toolkit.node.robot_state_bridge import RobotState 
from igmr_robotics_toolkit.util import parse_xform, asanglearray
from igmr_robotics_toolkit.node.robot_state_bridge import RobotStateBridge

import sys

class Ui_IndexWindow(object):
    def switch_to_Setup_Page(self):
        self.stackedWidget.setCurrentIndex(1)

    def switch_to_Robot_Page(self):
        self.stackedWidget.setCurrentIndex(2)

    def switch_to_Localize_Page(self):
        self.stackedWidget.setCurrentIndex(3)

    def switch_to_Nav_Page(self):
        self.stackedWidget.setCurrentIndex(4)

    def switch_to_Review_Page(self):
        self.stackedWidget.setCurrentIndex(5)

    def find_current_Robot_index(self):
        item = item=self.RobotCnt_Dropdown.currentIndex()
        self.Robot_stackedWidget.setCurrentIndex(item)
        
    def setupUi(self, IndexWindow):
        IndexWindow.setObjectName("IndexWindow")
        IndexWindow.resize(1280, 720)
        self.centralwidget = QtWidgets.QWidget(parent=IndexWindow)
        self.centralwidget.setObjectName("centralwidget")
        self.main_screen_widget = QtWidgets.QWidget(parent=self.centralwidget)
        self.main_screen_widget.setGeometry(QtCore.QRect(0, 120, 1280, 600))
        self.main_screen_widget.setMaximumSize(QtCore.QSize(16777215, 16777215))
        self.main_screen_widget.setLayoutDirection(QtCore.Qt.LayoutDirection.LeftToRight)
        self.main_screen_widget.setStyleSheet("")
        self.main_screen_widget.setObjectName("main_screen_widget")
        self.stackedWidget = QtWidgets.QStackedWidget(parent=self.main_screen_widget)
        self.stackedWidget.setGeometry(QtCore.QRect(0, 0, 1280, 620))
        font = QtGui.QFont()
        font.setPointSize(20)
        self.stackedWidget.setFont(font)
        self.stackedWidget.setObjectName("stackedWidget")
        self.Welcome_Page = QtWidgets.QWidget()
        self.Welcome_Page.setObjectName("Welcome_Page")
        self.label_6 = QtWidgets.QLabel(parent=self.Welcome_Page)
        self.label_6.setGeometry(QtCore.QRect(90, 10, 101, 41))
        font = QtGui.QFont()
        font.setPointSize(20)
        font.setBold(True)
        self.label_6.setFont(font)
        self.label_6.setObjectName("label_6")
        self.label_9 = QtWidgets.QLabel(parent=self.Welcome_Page)
        self.label_9.setGeometry(QtCore.QRect(90, 260, 101, 41))
        font = QtGui.QFont()
        font.setPointSize(20)
        font.setBold(True)
        self.label_9.setFont(font)
        self.label_9.setObjectName("label_9")
        self.commandLinkButton = QtWidgets.QCommandLinkButton(parent=self.Welcome_Page)
        self.commandLinkButton.setGeometry(QtCore.QRect(110, 70, 281, 71))
        icon = QtGui.QIcon()
        icon.addPixmap(QtGui.QPixmap("Image/ReturnPatient.png"), QtGui.QIcon.Mode.Normal, QtGui.QIcon.State.Off)
        self.commandLinkButton.setIcon(icon)
        self.commandLinkButton.setIconSize(QtCore.QSize(60, 60))
        self.commandLinkButton.setObjectName("commandLinkButton")
        self.commandLinkButton_2 = QtWidgets.QCommandLinkButton(parent=self.Welcome_Page)
        self.commandLinkButton_2.setGeometry(QtCore.QRect(110, 150, 251, 71))
        icon1 = QtGui.QIcon()
        icon1.addPixmap(QtGui.QPixmap("Image/NewPatient.png"), QtGui.QIcon.Mode.Normal, QtGui.QIcon.State.Off)
        self.commandLinkButton_2.setIcon(icon1)
        self.commandLinkButton_2.setIconSize(QtCore.QSize(50, 50))
        self.commandLinkButton_2.setObjectName("commandLinkButton_2")
        self.commandLinkButton_3 = QtWidgets.QCommandLinkButton(parent=self.Welcome_Page)
        self.commandLinkButton_3.setGeometry(QtCore.QRect(110, 320, 281, 71))
        self.commandLinkButton_3.setIcon(icon)
        self.commandLinkButton_3.setIconSize(QtCore.QSize(60, 60))
        self.commandLinkButton_3.setObjectName("commandLinkButton_3")
        self.commandLinkButton_4 = QtWidgets.QCommandLinkButton(parent=self.Welcome_Page)
        self.commandLinkButton_4.setGeometry(QtCore.QRect(110, 410, 251, 71))
        self.commandLinkButton_4.setIcon(icon1)
        self.commandLinkButton_4.setIconSize(QtCore.QSize(50, 50))
        self.commandLinkButton_4.setObjectName("commandLinkButton_4")
        self.label_7 = QtWidgets.QLabel(parent=self.Welcome_Page)
        self.label_7.setGeometry(QtCore.QRect(490, 70, 321, 371))
        self.label_7.setText("")
        self.label_7.setPixmap(QtGui.QPixmap("Image/WelcomeRobot.png"))
        self.label_7.setScaledContents(True)
        self.label_7.setObjectName("label_7")
        self.line = QtWidgets.QFrame(parent=self.Welcome_Page)
        self.line.setGeometry(QtCore.QRect(400, 0, 20, 601))
        self.line.setFrameShape(QtWidgets.QFrame.Shape.VLine)
        self.line.setFrameShadow(QtWidgets.QFrame.Shadow.Sunken)
        self.line.setObjectName("line")
        self.label_8 = QtWidgets.QLabel(parent=self.Welcome_Page)
        self.label_8.setGeometry(QtCore.QRect(570, 20, 191, 51))
        font = QtGui.QFont()
        font.setPointSize(26)
        font.setBold(True)
        self.label_8.setFont(font)
        self.label_8.setObjectName("label_8")
        self.label_10 = QtWidgets.QLabel(parent=self.Welcome_Page)
        self.label_10.setGeometry(QtCore.QRect(610, 440, 101, 41))
        font = QtGui.QFont()
        font.setPointSize(20)
        font.setBold(True)
        self.label_10.setFont(font)
        self.label_10.setObjectName("label_10")
        self.line_2 = QtWidgets.QFrame(parent=self.Welcome_Page)
        self.line_2.setGeometry(QtCore.QRect(860, -10, 20, 601))
        self.line_2.setFrameShape(QtWidgets.QFrame.Shape.VLine)
        self.line_2.setFrameShadow(QtWidgets.QFrame.Shadow.Sunken)
        self.line_2.setObjectName("line_2")
        self.comboBox = QtWidgets.QComboBox(parent=self.Welcome_Page)
        self.comboBox.setGeometry(QtCore.QRect(560, 480, 191, 41))
        self.comboBox.setObjectName("comboBox")
        self.comboBox.addItem("")
        self.label_11 = QtWidgets.QLabel(parent=self.Welcome_Page)
        self.label_11.setGeometry(QtCore.QRect(580, 540, 141, 20))
        font = QtGui.QFont()
        font.setPointSize(12)
        self.label_11.setFont(font)
        self.label_11.setObjectName("label_11")
        self.Setup_Btn = QtWidgets.QPushButton(parent=self.Welcome_Page)
        self.Setup_Btn.setGeometry(QtCore.QRect(980, 50, 171, 61))
        self.Setup_Btn.setObjectName("Setup_Btn")
        self.Robot_Btn = QtWidgets.QPushButton(parent=self.Welcome_Page)
        self.Robot_Btn.setGeometry(QtCore.QRect(980, 160, 171, 61))
        self.Robot_Btn.setObjectName("Robot_Btn")
        self.Localize_Btn = QtWidgets.QPushButton(parent=self.Welcome_Page)
        self.Localize_Btn.setGeometry(QtCore.QRect(980, 260, 171, 61))
        self.Localize_Btn.setObjectName("Localize_Btn")
        self.label_12 = QtWidgets.QLabel(parent=self.Welcome_Page)
        self.label_12.setGeometry(QtCore.QRect(1000, 10, 131, 41))
        font = QtGui.QFont()
        font.setPointSize(20)
        font.setBold(True)
        self.label_12.setFont(font)
        self.label_12.setObjectName("label_12")
        self.Review_Btn = QtWidgets.QPushButton(parent=self.Welcome_Page)
        self.Review_Btn.setGeometry(QtCore.QRect(980, 460, 171, 61))
        self.Review_Btn.setObjectName("Review_Btn")
        self.Nav_Btn = QtWidgets.QPushButton(parent=self.Welcome_Page)
        self.Nav_Btn.setGeometry(QtCore.QRect(980, 360, 171, 61))
        self.Nav_Btn.setObjectName("Nav_Btn")
        self.label_13 = QtWidgets.QLabel(parent=self.Welcome_Page)
        self.label_13.setGeometry(QtCore.QRect(1040, 110, 41, 51))
        self.label_13.setText("")
        self.label_13.setPixmap(QtGui.QPixmap("Image/downwardarrow.jpeg"))
        self.label_13.setScaledContents(True)
        self.label_13.setObjectName("label_13")
        self.label_14 = QtWidgets.QLabel(parent=self.Welcome_Page)
        self.label_14.setGeometry(QtCore.QRect(1040, 220, 51, 41))
        self.label_14.setText("")
        self.label_14.setPixmap(QtGui.QPixmap("Image/downwardarrow.jpeg"))
        self.label_14.setScaledContents(True)
        self.label_14.setObjectName("label_14")
        self.label_15 = QtWidgets.QLabel(parent=self.Welcome_Page)
        self.label_15.setGeometry(QtCore.QRect(1040, 320, 51, 41))
        self.label_15.setText("")
        self.label_15.setPixmap(QtGui.QPixmap("Image/downwardarrow.jpeg"))
        self.label_15.setScaledContents(True)
        self.label_15.setObjectName("label_15")
        self.label_16 = QtWidgets.QLabel(parent=self.Welcome_Page)
        self.label_16.setGeometry(QtCore.QRect(1040, 420, 51, 41))
        self.label_16.setText("")
        self.label_16.setPixmap(QtGui.QPixmap("Image/downwardarrow.jpeg"))
        self.label_16.setScaledContents(True)
        self.label_16.setObjectName("label_16")
        self.stackedWidget.addWidget(self.Welcome_Page)
        self.Setup_Page = QtWidgets.QWidget()
        self.Setup_Page.setObjectName("Setup_Page")
        self.label = QtWidgets.QLabel(parent=self.Setup_Page)
        self.label.setGeometry(QtCore.QRect(60, 10, 241, 31))
        font = QtGui.QFont()
        font.setPointSize(20)
        font.setBold(True)
        self.label.setFont(font)
        self.label.setObjectName("label")
        self.label_17 = QtWidgets.QLabel(parent=self.Setup_Page)
        self.label_17.setGeometry(QtCore.QRect(470, 10, 241, 31))
        font = QtGui.QFont()
        font.setPointSize(20)
        font.setBold(True)
        self.label_17.setFont(font)
        self.label_17.setObjectName("label_17")
        self.label_18 = QtWidgets.QLabel(parent=self.Setup_Page)
        self.label_18.setGeometry(QtCore.QRect(900, 10, 241, 41))
        font = QtGui.QFont()
        font.setPointSize(20)
        font.setBold(True)
        self.label_18.setFont(font)
        self.label_18.setObjectName("label_18")
        self.line_4 = QtWidgets.QFrame(parent=self.Setup_Page)
        self.line_4.setGeometry(QtCore.QRect(810, -10, 20, 601))
        self.line_4.setFrameShape(QtWidgets.QFrame.Shape.VLine)
        self.line_4.setFrameShadow(QtWidgets.QFrame.Shadow.Sunken)
        self.line_4.setObjectName("line_4")
        self.line_5 = QtWidgets.QFrame(parent=self.Setup_Page)
        self.line_5.setGeometry(QtCore.QRect(340, -10, 20, 601))
        self.line_5.setFrameShape(QtWidgets.QFrame.Shape.VLine)
        self.line_5.setFrameShadow(QtWidgets.QFrame.Shadow.Sunken)
        self.line_5.setObjectName("line_5")
        self.label_19 = QtWidgets.QLabel(parent=self.Setup_Page)
        self.label_19.setGeometry(QtCore.QRect(50, 70, 151, 31))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.label_19.setFont(font)
        self.label_19.setObjectName("label_19")
        self.label_20 = QtWidgets.QLabel(parent=self.Setup_Page)
        self.label_20.setGeometry(QtCore.QRect(50, 290, 151, 31))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.label_20.setFont(font)
        self.label_20.setObjectName("label_20")
        self.label_21 = QtWidgets.QLabel(parent=self.Setup_Page)
        self.label_21.setGeometry(QtCore.QRect(50, 170, 151, 31))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.label_21.setFont(font)
        self.label_21.setObjectName("label_21")
        self.label_22 = QtWidgets.QLabel(parent=self.Setup_Page)
        self.label_22.setGeometry(QtCore.QRect(50, 370, 181, 31))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.label_22.setFont(font)
        self.label_22.setObjectName("label_22")
        self.comboBox_2 = QtWidgets.QComboBox(parent=self.Setup_Page)
        self.comboBox_2.setGeometry(QtCore.QRect(50, 110, 201, 31))
        font = QtGui.QFont()
        font.setPointSize(12)
        self.comboBox_2.setFont(font)
        self.comboBox_2.setObjectName("comboBox_2")
        self.comboBox_2.addItem("")
        self.lineEdit = QtWidgets.QLineEdit(parent=self.Setup_Page)
        self.lineEdit.setGeometry(QtCore.QRect(50, 240, 231, 22))
        font = QtGui.QFont()
        font.setPointSize(12)
        self.lineEdit.setFont(font)
        self.lineEdit.setObjectName("lineEdit")
        self.lineEdit_2 = QtWidgets.QLineEdit(parent=self.Setup_Page)
        self.lineEdit_2.setGeometry(QtCore.QRect(50, 330, 231, 22))
        font = QtGui.QFont()
        font.setPointSize(12)
        self.lineEdit_2.setFont(font)
        self.lineEdit_2.setObjectName("lineEdit_2")
        self.lineEdit_3 = QtWidgets.QLineEdit(parent=self.Setup_Page)
        self.lineEdit_3.setGeometry(QtCore.QRect(50, 430, 231, 22))
        font = QtGui.QFont()
        font.setPointSize(12)
        self.lineEdit_3.setFont(font)
        self.lineEdit_3.setObjectName("lineEdit_3")
        self.commandLinkButton_5 = QtWidgets.QCommandLinkButton(parent=self.Setup_Page)
        self.commandLinkButton_5.setGeometry(QtCore.QRect(880, 120, 281, 71))
        icon2 = QtGui.QIcon()
        icon2.addPixmap(QtGui.QPixmap("Image/Pack.png"), QtGui.QIcon.Mode.Normal, QtGui.QIcon.State.Off)
        self.commandLinkButton_5.setIcon(icon2)
        self.commandLinkButton_5.setIconSize(QtCore.QSize(60, 60))
        self.commandLinkButton_5.setObjectName("commandLinkButton_5")
        self.commandLinkButton_6 = QtWidgets.QCommandLinkButton(parent=self.Setup_Page)
        self.commandLinkButton_6.setGeometry(QtCore.QRect(880, 220, 281, 71))
        icon3 = QtGui.QIcon()
        icon3.addPixmap(QtGui.QPixmap("Image/Unpack.png"), QtGui.QIcon.Mode.Normal, QtGui.QIcon.State.Off)
        self.commandLinkButton_6.setIcon(icon3)
        self.commandLinkButton_6.setIconSize(QtCore.QSize(60, 60))
        self.commandLinkButton_6.setObjectName("commandLinkButton_6")
        self.lineEdit_4 = QtWidgets.QLineEdit(parent=self.Setup_Page)
        self.lineEdit_4.setGeometry(QtCore.QRect(910, 420, 191, 31))
        self.lineEdit_4.setObjectName("lineEdit_4")
        self.label_23 = QtWidgets.QLabel(parent=self.Setup_Page)
        self.label_23.setGeometry(QtCore.QRect(880, 380, 161, 31))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(16)
        self.label_23.setFont(font)
        self.label_23.setObjectName("label_23")
        self.stackedWidget.addWidget(self.Setup_Page)
        self.Robot_Page = QtWidgets.QWidget()
        self.Robot_Page.setObjectName("Robot_Page")
        self.label_2 = QtWidgets.QLabel(parent=self.Robot_Page)
        self.label_2.setGeometry(QtCore.QRect(410, 10, 231, 51))
        font = QtGui.QFont()
        font.setPointSize(20)
        font.setBold(True)
        self.label_2.setFont(font)
        self.label_2.setObjectName("label_2")
        self.label_24 = QtWidgets.QLabel(parent=self.Robot_Page)
        self.label_24.setGeometry(QtCore.QRect(30, 10, 231, 51))
        font = QtGui.QFont()
        font.setPointSize(20)
        font.setBold(True)
        self.label_24.setFont(font)
        self.label_24.setObjectName("label_24")
        self.line_6 = QtWidgets.QFrame(parent=self.Robot_Page)
        self.line_6.setGeometry(QtCore.QRect(380, 0, 20, 601))
        self.line_6.setFrameShape(QtWidgets.QFrame.Shape.VLine)
        self.line_6.setFrameShadow(QtWidgets.QFrame.Shadow.Sunken)
        self.line_6.setObjectName("line_6")
        self.label_25 = QtWidgets.QLabel(parent=self.Robot_Page)
        self.label_25.setGeometry(QtCore.QRect(70, 220, 141, 171))
        self.label_25.setText("")
        self.label_25.setPixmap(QtGui.QPixmap("Image/MaxHeight.png"))
        self.label_25.setScaledContents(True)
        self.label_25.setObjectName("label_25")
        self.verticalSlider = QtWidgets.QSlider(parent=self.Robot_Page)
        self.verticalSlider.setGeometry(QtCore.QRect(320, 150, 22, 291))
        self.verticalSlider.setOrientation(QtCore.Qt.Orientation.Vertical)
        self.verticalSlider.setObjectName("verticalSlider")
        self.label_26 = QtWidgets.QLabel(parent=self.Robot_Page)
        self.label_26.setGeometry(QtCore.QRect(320, 450, 21, 41))
        font = QtGui.QFont()
        font.setPointSize(26)
        font.setBold(True)
        self.label_26.setFont(font)
        self.label_26.setObjectName("label_26")
        self.label_27 = QtWidgets.QLabel(parent=self.Robot_Page)
        self.label_27.setGeometry(QtCore.QRect(320, 100, 21, 41))
        font = QtGui.QFont()
        font.setPointSize(26)
        font.setBold(True)
        self.label_27.setFont(font)
        self.label_27.setObjectName("label_27")
        self.label_28 = QtWidgets.QLabel(parent=self.Robot_Page)
        self.label_28.setGeometry(QtCore.QRect(250, 260, 81, 31))
        font = QtGui.QFont()
        font.setPointSize(14)
        font.setBold(True)
        self.label_28.setFont(font)
        self.label_28.setObjectName("label_28")
        self.label_29 = QtWidgets.QLabel(parent=self.Robot_Page)
        self.label_29.setGeometry(QtCore.QRect(250, 390, 81, 31))
        font = QtGui.QFont()
        font.setPointSize(14)
        font.setBold(True)
        self.label_29.setFont(font)
        self.label_29.setObjectName("label_29")
        self.label_30 = QtWidgets.QLabel(parent=self.Robot_Page)
        self.label_30.setGeometry(QtCore.QRect(250, 140, 81, 31))
        font = QtGui.QFont()
        font.setPointSize(14)
        font.setBold(True)
        self.label_30.setFont(font)
        self.label_30.setObjectName("label_30")
        self.lineEdit_5 = QtWidgets.QLineEdit(parent=self.Robot_Page)
        self.lineEdit_5.setGeometry(QtCore.QRect(80, 490, 113, 22))
        self.lineEdit_5.setObjectName("lineEdit_5")
        self.label_31 = QtWidgets.QLabel(parent=self.Robot_Page)
        self.label_31.setGeometry(QtCore.QRect(50, 460, 141, 31))
        font = QtGui.QFont()
        font.setPointSize(14)
        font.setBold(True)
        self.label_31.setFont(font)
        self.label_31.setObjectName("label_31")
        self.RobotCnt_Dropdown = QtWidgets.QComboBox(parent=self.Robot_Page)
        self.RobotCnt_Dropdown.setGeometry(QtCore.QRect(640, 30, 191, 22))
        font = QtGui.QFont()
        font.setPointSize(12)
        self.RobotCnt_Dropdown.setFont(font)
        self.RobotCnt_Dropdown.setObjectName("RobotCnt_Dropdown")
        self.RobotCnt_Dropdown.addItem("")
        self.RobotCnt_Dropdown.addItem("")
        self.RobotCnt_Dropdown.addItem("")
        self.RobotCnt_Dropdown.addItem("")
        self.RobotCnt_Dropdown.addItem("")
        self.Robot_stackedWidget = QtWidgets.QStackedWidget(parent=self.Robot_Page)
        self.Robot_stackedWidget.setGeometry(QtCore.QRect(390, 70, 881, 531))
        self.Robot_stackedWidget.setObjectName("Robot_stackedWidget")
        self.Automated_Page = QtWidgets.QWidget()
        self.Automated_Page.setObjectName("Automated_Page")
        self.commandLinkButton_7 = QtWidgets.QCommandLinkButton(parent=self.Automated_Page)
        self.commandLinkButton_7.setGeometry(QtCore.QRect(285, 430, 150, 50))
        icon4 = QtGui.QIcon()
        icon4.addPixmap(QtGui.QPixmap("Image/Unlock.png"), QtGui.QIcon.Mode.Normal, QtGui.QIcon.State.Off)
        self.commandLinkButton_7.setIcon(icon4)
        self.commandLinkButton_7.setIconSize(QtCore.QSize(40, 40))
        self.commandLinkButton_7.setObjectName("commandLinkButton_7")
        self.commandLinkButton_8 = QtWidgets.QCommandLinkButton(parent=self.Automated_Page)
        self.commandLinkButton_8.setGeometry(QtCore.QRect(500, 430, 185, 50))
        icon5 = QtGui.QIcon()
        icon5.addPixmap(QtGui.QPixmap("Image/Lock.png"), QtGui.QIcon.Mode.Normal, QtGui.QIcon.State.Off)
        self.commandLinkButton_8.setIcon(icon5)
        self.commandLinkButton_8.setIconSize(QtCore.QSize(40, 40))
        self.commandLinkButton_8.setObjectName("commandLinkButton_8")
        self.pushButton = QtWidgets.QPushButton(parent=self.Automated_Page)
        self.pushButton.setGeometry(QtCore.QRect(310, 340, 121, 61))
        self.pushButton.setObjectName("pushButton")
        self.pushButton_2 = QtWidgets.QPushButton(parent=self.Automated_Page)
        self.pushButton_2.setGeometry(QtCore.QRect(470, 340, 121, 61))
        self.pushButton_2.setObjectName("pushButton_2")
        self.label_32 = QtWidgets.QLabel(parent=self.Automated_Page)
        self.label_32.setGeometry(QtCore.QRect(410, 80, 231, 111))
        self.label_32.setObjectName("label_32")
        self.Robot_stackedWidget.addWidget(self.Automated_Page)
        self.HardGuiding_Page = QtWidgets.QWidget()
        self.HardGuiding_Page.setObjectName("HardGuiding_Page")
        self.label_33 = QtWidgets.QLabel(parent=self.HardGuiding_Page)
        self.label_33.setGeometry(QtCore.QRect(280, 40, 451, 331))
        self.label_33.setText("")
        self.label_33.setPixmap(QtGui.QPixmap("Image/Handguiding.png"))
        self.label_33.setScaledContents(False)
        self.label_33.setObjectName("label_33")
        self.commandLinkButton_9 = QtWidgets.QCommandLinkButton(parent=self.HardGuiding_Page)
        self.commandLinkButton_9.setGeometry(QtCore.QRect(285, 430, 150, 50))
        self.commandLinkButton_9.setIcon(icon4)
        self.commandLinkButton_9.setIconSize(QtCore.QSize(40, 40))
        self.commandLinkButton_9.setObjectName("commandLinkButton_9")
        self.commandLinkButton_10 = QtWidgets.QCommandLinkButton(parent=self.HardGuiding_Page)
        self.commandLinkButton_10.setGeometry(QtCore.QRect(500, 430, 185, 50))
        self.commandLinkButton_10.setIcon(icon5)
        self.commandLinkButton_10.setIconSize(QtCore.QSize(40, 40))
        self.commandLinkButton_10.setObjectName("commandLinkButton_10")
        self.Robot_stackedWidget.addWidget(self.HardGuiding_Page)
        self.Preset_Page = QtWidgets.QWidget()
        self.Preset_Page.setObjectName("Preset_Page")
        self.label_34 = QtWidgets.QLabel(parent=self.Preset_Page)
        self.label_34.setGeometry(QtCore.QRect(90, 30, 151, 71))
        self.label_34.setObjectName("label_34")
        self.label_35 = QtWidgets.QLabel(parent=self.Preset_Page)
        self.label_35.setGeometry(QtCore.QRect(260, 30, 151, 71))
        self.label_35.setObjectName("label_35")
        self.label_36 = QtWidgets.QLabel(parent=self.Preset_Page)
        self.label_36.setGeometry(QtCore.QRect(430, 30, 151, 71))
        self.label_36.setObjectName("label_36")
        self.label_37 = QtWidgets.QLabel(parent=self.Preset_Page)
        self.label_37.setGeometry(QtCore.QRect(630, 30, 151, 71))
        self.label_37.setObjectName("label_37")
        self.label_39 = QtWidgets.QLabel(parent=self.Preset_Page)
        self.label_39.setGeometry(QtCore.QRect(280, 110, 31, 71))
        self.label_39.setObjectName("label_39")
        self.label_40 = QtWidgets.QLabel(parent=self.Preset_Page)
        self.label_40.setGeometry(QtCore.QRect(470, 110, 21, 71))
        self.label_40.setObjectName("label_40")
        self.label_41 = QtWidgets.QLabel(parent=self.Preset_Page)
        self.label_41.setGeometry(QtCore.QRect(660, 110, 41, 71))
        self.label_41.setObjectName("label_41")
        self.label_42 = QtWidgets.QLabel(parent=self.Preset_Page)
        self.label_42.setGeometry(QtCore.QRect(120, 110, 31, 71))
        self.label_42.setObjectName("label_42")
        self.label_43 = QtWidgets.QLabel(parent=self.Preset_Page)
        self.label_43.setGeometry(QtCore.QRect(110, 230, 31, 71))
        self.label_43.setObjectName("label_43")
        self.label_44 = QtWidgets.QLabel(parent=self.Preset_Page)
        self.label_44.setGeometry(QtCore.QRect(280, 220, 31, 71))
        self.label_44.setObjectName("label_44")
        self.label_45 = QtWidgets.QLabel(parent=self.Preset_Page)
        self.label_45.setGeometry(QtCore.QRect(470, 220, 31, 71))
        self.label_45.setObjectName("label_45")
        self.label_46 = QtWidgets.QLabel(parent=self.Preset_Page)
        self.label_46.setGeometry(QtCore.QRect(660, 220, 31, 71))
        self.label_46.setObjectName("label_46")
        self.Robot_stackedWidget.addWidget(self.Preset_Page)
        self.Manual_Axes_Page = QtWidgets.QWidget()
        self.Manual_Axes_Page.setObjectName("Manual_Axes_Page")
        self.label_38 = QtWidgets.QLabel(parent=self.Manual_Axes_Page)
        self.label_38.setGeometry(QtCore.QRect(250, 150, 241, 151))
        self.label_38.setObjectName("label_38")
        self.Robot_stackedWidget.addWidget(self.Manual_Axes_Page)
        self.Manual_World_Page = QtWidgets.QWidget()
        self.Manual_World_Page.setObjectName("Manual_World_Page")
        self.label_47 = QtWidgets.QLabel(parent=self.Manual_World_Page)
        self.label_47.setGeometry(QtCore.QRect(330, 170, 171, 151))
        self.label_47.setObjectName("label_47")
        self.Robot_stackedWidget.addWidget(self.Manual_World_Page)
        self.Robotcnt_choose_btn = QtWidgets.QPushButton(parent=self.Robot_Page)
        self.Robotcnt_choose_btn.setGeometry(QtCore.QRect(850, 30, 75, 24))
        font = QtGui.QFont()
        font.setPointSize(12)
        self.Robotcnt_choose_btn.setFont(font)
        self.Robotcnt_choose_btn.setObjectName("Robotcnt_choose_btn")
        self.Robotcnt_choose_btn.clicked.connect(self.find_current_Robot_index)
        #self.commandLinkButton_5.clicked.connect(self.robot_action('home'))
        self.commandLinkButton_5.clicked.connect(lambda: self.robot_action('home'))

        self.stackedWidget.addWidget(self.Robot_Page)
        self.Localize_Page = QtWidgets.QWidget()
        self.Localize_Page.setObjectName("Localize_Page")
        self.label_3 = QtWidgets.QLabel(parent=self.Localize_Page)
        self.label_3.setGeometry(QtCore.QRect(340, 60, 181, 141))
        font = QtGui.QFont()
        font.setPointSize(20)
        self.label_3.setFont(font)
        self.label_3.setObjectName("label_3")
        self.stackedWidget.addWidget(self.Localize_Page)
        self.Navigate_Page = QtWidgets.QWidget()
        self.Navigate_Page.setObjectName("Navigate_Page")
        self.label_4 = QtWidgets.QLabel(parent=self.Navigate_Page)
        self.label_4.setGeometry(QtCore.QRect(350, 40, 221, 181))
        font = QtGui.QFont()
        font.setPointSize(20)
        self.label_4.setFont(font)
        self.label_4.setObjectName("label_4")
        self.stackedWidget.addWidget(self.Navigate_Page)
        self.Review_Page = QtWidgets.QWidget()
        self.Review_Page.setObjectName("Review_Page")
        self.label_5 = QtWidgets.QLabel(parent=self.Review_Page)
        self.label_5.setGeometry(QtCore.QRect(360, 30, 271, 141))
        font = QtGui.QFont()
        font.setPointSize(22)
        self.label_5.setFont(font)
        self.label_5.setObjectName("label_5")
        self.stackedWidget.addWidget(self.Review_Page)
        self.Main_Frame = QtWidgets.QFrame(parent=self.centralwidget)
        self.Main_Frame.setGeometry(QtCore.QRect(-20, 0, 1280, 120))
        self.Main_Frame.setFrameShape(QtWidgets.QFrame.Shape.StyledPanel)
        self.Main_Frame.setFrameShadow(QtWidgets.QFrame.Shadow.Raised)
        self.Main_Frame.setObjectName("Main_Frame")
        self.Logo = QtWidgets.QLabel(parent=self.Main_Frame)
        self.Logo.setGeometry(QtCore.QRect(30, 10, 100, 100))
        self.Logo.setMinimumSize(QtCore.QSize(100, 100))
        self.Logo.setMaximumSize(QtCore.QSize(100, 100))
        self.Logo.setLayoutDirection(QtCore.Qt.LayoutDirection.LeftToRight)
        self.Logo.setText("")
        self.Logo.setPixmap(QtGui.QPixmap("Image/logo1.png"))
        self.Logo.setScaledContents(True)
        self.Logo.setObjectName("Logo")
        self.Menu_Frame = QtWidgets.QFrame(parent=self.Main_Frame)
        self.Menu_Frame.setGeometry(QtCore.QRect(130, 40, 900, 93))
        self.Menu_Frame.setFrameShape(QtWidgets.QFrame.Shape.StyledPanel)
        self.Menu_Frame.setFrameShadow(QtWidgets.QFrame.Shadow.Raised)
        self.Menu_Frame.setObjectName("Menu_Frame")
        self.horizontalLayout = QtWidgets.QHBoxLayout(self.Menu_Frame)
        self.horizontalLayout.setObjectName("horizontalLayout")
        self.Setup_Menu = QtWidgets.QPushButton(parent=self.Menu_Frame)
        font = QtGui.QFont()
        font.setFamily("Arial Black")
        font.setPointSize(24)
        self.Setup_Menu.setFont(font)
        self.Setup_Menu.setObjectName("Setup_Menu")
        self.horizontalLayout.addWidget(self.Setup_Menu)
        self.Setup_Menu.clicked.connect(self.switch_to_Setup_Page)
        self.Robot_Menu = QtWidgets.QPushButton(parent=self.Menu_Frame)
        font = QtGui.QFont()
        font.setFamily("Arial Black")
        font.setPointSize(24)
        self.Robot_Menu.setFont(font)
        self.Robot_Menu.setCheckable(False)
        self.Robot_Menu.setObjectName("Robot_Menu")
        self.horizontalLayout.addWidget(self.Robot_Menu)
        self.Robot_Menu.clicked.connect(self.switch_to_Robot_Page)
        self.Localize_Menu = QtWidgets.QPushButton(parent=self.Menu_Frame)
        font = QtGui.QFont()
        font.setFamily("Arial Black")
        font.setPointSize(24)
        self.Localize_Menu.setFont(font)
        self.Localize_Menu.setCheckable(False)
        self.Localize_Menu.setObjectName("Localize_Menu")
        self.horizontalLayout.addWidget(self.Localize_Menu)
        self.Localize_Menu.clicked.connect(self.switch_to_Localize_Page)
        self.Nav_Menu = QtWidgets.QPushButton(parent=self.Menu_Frame)
        font = QtGui.QFont()
        font.setFamily("Arial Black")
        font.setPointSize(24)
        self.Nav_Menu.setFont(font)
        self.Nav_Menu.setCheckable(False)
        self.Nav_Menu.setObjectName("Nav_Menu")
        self.horizontalLayout.addWidget(self.Nav_Menu)
        self.Nav_Menu.clicked.connect(self.switch_to_Nav_Page)
        self.Review_Menu = QtWidgets.QPushButton(parent=self.Menu_Frame)
        font = QtGui.QFont()
        font.setFamily("Arial Black")
        font.setPointSize(24)
        self.Review_Menu.setFont(font)
        self.Review_Menu.setCheckable(False)
        self.Review_Menu.setObjectName("Review_Menu")
        self.horizontalLayout.addWidget(self.Review_Menu)
        self.Review_Menu.clicked.connect(self.switch_to_Review_Page)
        self.Logout_Btn = QtWidgets.QPushButton(parent=self.Main_Frame)
        self.Logout_Btn.setGeometry(QtCore.QRect(1150, 60, 51, 51))
        self.Logout_Btn.setLayoutDirection(QtCore.Qt.LayoutDirection.RightToLeft)
        self.Logout_Btn.setText("")
        icon6 = QtGui.QIcon()
        icon6.addPixmap(QtGui.QPixmap("Image/Logging.png"), QtGui.QIcon.Mode.Normal, QtGui.QIcon.State.Off)
        self.Logout_Btn.setIcon(icon6)
        self.Logout_Btn.setIconSize(QtCore.QSize(40, 40))
        self.Logout_Btn.setCheckable(True)
        self.Logout_Btn.setObjectName("Logout_Btn")
        self.Setting_Btn = QtWidgets.QPushButton(parent=self.Main_Frame)
        self.Setting_Btn.setGeometry(QtCore.QRect(1210, 60, 61, 51))
        self.Setting_Btn.setText("")
        icon7 = QtGui.QIcon()
        icon7.addPixmap(QtGui.QPixmap("Image/Setting.png"), QtGui.QIcon.Mode.Normal, QtGui.QIcon.State.Off)
        self.Setting_Btn.setIcon(icon7)
        self.Setting_Btn.setIconSize(QtCore.QSize(40, 40))
        self.Setting_Btn.setCheckable(True)
        self.Setting_Btn.setObjectName("Setting_Btn")
        #here
       # self.Setting_Btn.clicked.connect(self.show_dialog)
        self.line_3 = QtWidgets.QFrame(parent=self.Main_Frame)
        self.line_3.setGeometry(QtCore.QRect(0, 110, 1280, 16))
        self.line_3.setLineWidth(3)
        self.line_3.setFrameShape(QtWidgets.QFrame.Shape.HLine)
        self.line_3.setFrameShadow(QtWidgets.QFrame.Shadow.Sunken)
        self.line_3.setObjectName("line_3")
        IndexWindow.setCentralWidget(self.centralwidget)

        self.retranslateUi(IndexWindow)
        self.stackedWidget.setCurrentIndex(0)
        self.Robot_stackedWidget.setCurrentIndex(0)
        QtCore.QMetaObject.connectSlotsByName(IndexWindow)

    def retranslateUi(self, IndexWindow):
        _translate = QtCore.QCoreApplication.translate
        IndexWindow.setWindowTitle(_translate("IndexWindow", "MainWindow"))
        self.label_6.setText(_translate("IndexWindow", "Patient"))
        self.label_9.setText(_translate("IndexWindow", "Case"))
        self.commandLinkButton.setText(_translate("IndexWindow", "Return Patient"))
        self.commandLinkButton_2.setText(_translate("IndexWindow", "New Patient"))
        self.commandLinkButton_3.setText(_translate("IndexWindow", "Import Case"))
        self.commandLinkButton_4.setText(_translate("IndexWindow", "New Case"))
        self.label_8.setText(_translate("IndexWindow", "Welcome"))
        self.label_10.setText(_translate("IndexWindow", "Mode"))
        self.comboBox.setItemText(0, _translate("IndexWindow", "Engineering"))
        self.label_11.setText(_translate("IndexWindow", "Not for clinical use"))
        self.Setup_Btn.setText(_translate("IndexWindow", "Setup"))
        self.Robot_Btn.setText(_translate("IndexWindow", "Robot"))
        self.Localize_Btn.setText(_translate("IndexWindow", "Localize"))
        self.label_12.setText(_translate("IndexWindow", "Workflow"))
        self.Review_Btn.setText(_translate("IndexWindow", "Review"))
        self.Nav_Btn.setText(_translate("IndexWindow", "Navigate"))
        self.label.setText(_translate("IndexWindow", "Interface Property"))
        self.label_17.setText(_translate("IndexWindow", "System Checks"))
        self.label_18.setText(_translate("IndexWindow", "Moving Cart"))
        self.label_19.setText(_translate("IndexWindow", "Address Type:"))
        self.label_20.setText(_translate("IndexWindow", "Subnet Mask:"))
        self.label_21.setText(_translate("IndexWindow", "Address:"))
        self.label_22.setText(_translate("IndexWindow", "Standard Gateway:"))
        self.comboBox_2.setItemText(0, _translate("IndexWindow", "Fixed Address"))
        self.lineEdit.setText(_translate("IndexWindow", "172 - 31 - 1 - 147"))
        self.lineEdit_2.setText(_translate("IndexWindow", "255 - 255 - 0 - 0"))
        self.lineEdit_3.setText(_translate("IndexWindow", "172 - 31 - 1 - 147"))
        self.commandLinkButton_5.setText(_translate("IndexWindow", "Pack"))
        self.commandLinkButton_6.setText(_translate("IndexWindow", "Unpack"))
        self.label_23.setText(_translate("IndexWindow", "Home:"))
        self.label_2.setText(_translate("IndexWindow", "Robot Controller:"))
        self.label_24.setText(_translate("IndexWindow", "Lift Controller"))
        self.label_26.setText(_translate("IndexWindow", "-"))
        self.label_27.setText(_translate("IndexWindow", "+"))
        self.label_28.setText(_translate("IndexWindow", "Middle"))
        self.label_29.setText(_translate("IndexWindow", "Min"))
        self.label_30.setText(_translate("IndexWindow", "Max"))
        self.label_31.setText(_translate("IndexWindow", "Current Height:"))
        self.RobotCnt_Dropdown.setItemText(0, _translate("IndexWindow", "Automated"))
        self.RobotCnt_Dropdown.setItemText(1, _translate("IndexWindow", "Hard Guiding"))
        self.RobotCnt_Dropdown.setItemText(2, _translate("IndexWindow", "Preset Poses"))
        self.RobotCnt_Dropdown.setItemText(3, _translate("IndexWindow", "Manual - Axes"))
        self.RobotCnt_Dropdown.setItemText(4, _translate("IndexWindow", "Manual World"))
        self.commandLinkButton_7.setText(_translate("IndexWindow", "Unlock"))
        self.commandLinkButton_8.setText(_translate("IndexWindow", "Lock"))
        self.pushButton.setText(_translate("IndexWindow", "Start"))
        self.pushButton_2.setText(_translate("IndexWindow", "Cancel"))
        self.label_32.setText(_translate("IndexWindow", "Reachable"))
        self.commandLinkButton_9.setText(_translate("IndexWindow", "Unlock"))
        self.commandLinkButton_10.setText(_translate("IndexWindow", "Lock"))
        self.label_34.setText(_translate("IndexWindow", "Standing"))
        self.label_35.setText(_translate("IndexWindow", "Seated"))
        self.label_36.setText(_translate("IndexWindow", "Reclined"))
        self.label_37.setText(_translate("IndexWindow", "Supine"))
        self.label_39.setText(_translate("IndexWindow", "1"))
        self.label_40.setText(_translate("IndexWindow", "1"))
        self.label_41.setText(_translate("IndexWindow", "1"))
        self.label_42.setText(_translate("IndexWindow", "1"))
        self.label_43.setText(_translate("IndexWindow", "2"))
        self.label_44.setText(_translate("IndexWindow", "2"))
        self.label_45.setText(_translate("IndexWindow", "2"))
        self.label_46.setText(_translate("IndexWindow", "2"))
        self.label_38.setText(_translate("IndexWindow", "Manual Axe"))
        self.label_47.setText(_translate("IndexWindow", "Manual World"))
        self.Robotcnt_choose_btn.setText(_translate("IndexWindow", "Choose"))
        self.label_3.setText(_translate("IndexWindow", "Localize"))
        self.label_4.setText(_translate("IndexWindow", "Navigate"))
        self.label_5.setText(_translate("IndexWindow", "Review"))
        self.Setup_Menu.setText(_translate("IndexWindow", "Setup"))
        self.Robot_Menu.setText(_translate("IndexWindow", "Robot"))
        self.Localize_Menu.setText(_translate("IndexWindow", "Localize"))
        self.Nav_Menu.setText(_translate("IndexWindow", "Navigate"))
        self.Review_Menu.setText(_translate("IndexWindow", "Review"))
    #def update_and_print_robot_state(self):
        # Assuming you can get the current state from `self._controller` or `self._state`
        # You may need to adapt the method of fetching states depending on your actual robot API.
        #robot_state = RobotState()
       # self._state = RobotStateBridge(params=pc.scope('robot'))
        #if hasattr(robot_controller, 'get_state'):
         #   current_state = robot_controller._state.get()  # Hypothetical method for fetching the robot state
       # else:
           # current_state = robot_controller._state.get('robot/state')  # Or get from the state object

       # print(f"Current Robot State: {current_state}")
    def robot_action(self, state):
        robot_controller = Coordinator()
        #robot_state = RobotState() 
        match state:
            case 'home':
                robot_controller.change_strategy('home')
                print('home')
                #robot_controller.update(robot_controller, robot_state)
               # self.update_and_print_robot_state()
            case 'jog':
                robot_controller.change_strategy('jog')
                print('jog')
            case 'watch':
                robot_controller.change_strategy('watch')
                print('watch')
            case 'face_tracking':
                robot_controller.change_strategy('face_tracking')
                print('face tracking')
            case 'pupil_tracking':
                robot_controller.change_strategy('pupil_tracking')
                print('pupil tracking')
            case 'retreat':
                robot_controller.change_strategy('retreat')
"""     def show_dialog(self):
        dialog = QtWidgets.QMessageBox()
        dialog.setWindowTitle("Settings Popup")
        dialog.setText("HELLO.")
        dialog.setStandardButtons(QtWidgets.QMessageBox.StandardButton.Ok | QtWidgets.QMessageBox.StandardButton.Cancel)
        dialog.resize(1000, 600) 
        dialog.exec()# Open the pop-up window as a modal dialog """

if __name__ == "__main__":
    import sys
    #robot_controller = Coordinator()
    app = QtWidgets.QApplication(sys.argv)
    IndexWindow = QtWidgets.QMainWindow()
    ui = Ui_IndexWindow()
    ui.setupUi(IndexWindow)
    IndexWindow.show()
    sys.exit(app.exec())
